(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{NLwr:function(t,e,r){t.exports=r.p+"static/email-example-e3d05414bf68e89f670423b3427e112d.png"},ub6p:function(t,e,r){"use strict";r.r(e);var a=r("q1tI"),n=r.n(a),o=r("TJpk"),i=r.n(o),s=r("RJaA"),l=(r("lY1d"),r("VSsl"),r("o0o1")),p=r.n(l),c=(r("5l6m"),r("rGqo"),r("ER96"),r("K6vE"),r("Pw7m"),r("ls82"),r("Wbzz")),u=r("r9w1"),m=r("Z3vd"),d=r("uVck"),h=r("Xs5t"),f=r("Kfvu"),b=r("9kay"),v=r("vOnD"),w=r("pg4K");function g(t,e,r,a,n,o,i){try{var s=t[o](i),l=s.value}catch(p){return void r(p)}s.done?e(l):Promise.resolve(l).then(a,n)}function y(t){return function(){var e=this,r=arguments;return new Promise((function(a,n){var o=t.apply(e,r);function i(t){g(o,a,n,i,s,"next",t)}function s(t){g(o,a,n,i,s,"throw",t)}i(void 0)}))}}var E=v.b.div.withConfig({displayName:"CreateAccountForm__Row",componentId:"jadb0u-0"})(["margin-bottom:1.5rem;"]),C=v.b.form.withConfig({displayName:"CreateAccountForm__Form",componentId:"jadb0u-1"})([""]),_=v.b.div.withConfig({displayName:"CreateAccountForm__InfoBox",componentId:"jadb0u-2"})(["margin-bottom:2rem;"]),O=v.b.div.withConfig({displayName:"CreateAccountForm__FormContainer",componentId:"jadb0u-3"})(["height:100%;margin-top:2rem;"]),j=function(t){var e,r;function a(){for(var e,r=arguments.length,a=new Array(r),n=0;n<r;n++)a[n]=arguments[n];return(e=t.call.apply(t,[this].concat(a))||this).onClick=function(){var t=y(p.a.mark((function t(r){var a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.preventDefault(),e.setState({submitting:!0,triedSubmitting:!0}),e.validate()){t.next=5;break}return e.setState({canSubmit:!1,submitting:!1}),t.abrupt("return");case 5:return t.prev=5,t.next=8,Object(d.d)({email:e.state.email,password:e.state.password,password_confirmation:e.state.password_confirmation});case 8:return t.sent,t.next=11,Object(d.b)({username:e.state.email,password:e.state.password});case 11:e.props.onComplete(),t.next=18;break;case 14:t.prev=14,t.t0=t.catch(5);try{a="",Object.entries(t.t0).forEach((function(t){var r=t[0];t[1].forEach((function(t){var n=Object(h.a)(r.replace(/_/g," ")+" "+t+".");"Email has already been taken."===n&&(n=e.props.t("emailInUse")),a=a+" "+n}))})),""===a&&(a=e.props.t("problemCreatingAccount")+JSON.stringify(t.t0)),e.setState({error:a,submitting:!1,errorObj:t.t0})}catch(n){e.setState({error:JSON.stringify(t.t0),submitting:!1})}e.setState({submitting:!1});case 18:case"end":return t.stop()}}),t,null,[[5,14]])})));return function(e){return t.apply(this,arguments)}}(),e.handleInput=function(t){var r,a=t.target.name,n=t.target.value;e.setState(((r={})[a]=n,r),(function(){e.validate()}))},e.validate=function(){var t={error:"",errorObj:{}},r=e.state,a=r.email,n=r.password,o=r.password_confirmation,i=r.validatePassword,s=r.validateEmail,l=r.triedSubmitting;return a&&s&&(-1===a.indexOf("@")&&(t.error+=e.props.t("noAt"),t.errorObj.email=e.props.t("noAt")),a&&-1===a.indexOf(".")&&(t.error+=e.props.t("noAt"),t.errorObj.email=e.props.t("noAt"))),n&&o&&i&&n!==o&&(t.error+=e.props.t("passwordsNoMatch"),t.errorObj.password=e.props.t("passwordsNoMatch"),t.errorObj.password_confirmation=e.props.t("passwordsNoMatch")),""===t.error&&(t.error=!1,t.canSubmit=!0),a&&n&&o?(e.setState(t),!t.error):(l&&(t.canSubmit=!1),!1)},e.state={email:void 0,password:void 0,password_confirmation:void 0,submitting:!1,error:!1,errorObj:{},validatePassword:!1,validateEmail:!1,canSubmit:!0,triedSubmitting:!0},e}return r=t,(e=a).prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r,a.prototype.render=function(){var t=this;return this.context.loggedIn?(Object(c.navigate)("/"),n.a.createElement("div",null,"Redirecting...")):n.a.createElement(O,null,n.a.createElement("h1",null,this.props.t("createAccount")),n.a.createElement(C,{onChange:this.validate},n.a.createElement(_,null,this.props.t("courseUses")," ",n.a.createElement(f.OutboundLink,{href:"https://mooc.fi",target:"_blank",rel:"noopener noreferrer"},"mooc.fi")," ",this.props.t("courseUses2")),n.a.createElement(E,null,n.a.createElement(u.a,{variant:"outlined",type:"email",name:"email",autoComplete:"email",label:this.props.t("email"),error:this.state.errorObj.email,fullWidth:!0,value:this.state.email,onChange:this.handleInput,onBlur:function(){t.setState({validateEmail:!0},(function(){t.validate()}))}})),n.a.createElement(E,null,n.a.createElement(u.a,{variant:"outlined",type:this.state.showPassword?"text":"password",label:this.props.t("password"),name:"password",error:this.state.errorObj.password,fullWidth:!0,value:this.state.password,onChange:this.handleInput})),n.a.createElement(E,null,n.a.createElement(u.a,{variant:"outlined",type:this.state.showPassword?"text":"password",label:this.props.t("passwordAgain"),name:"password_confirmation",error:this.state.errorObj.password_confirmation,fullWidth:!0,value:this.state.password_confirmation,onChange:this.handleInput,onBlur:function(){t.setState({validatePassword:!0},(function(){t.validate()}))}})),n.a.createElement(E,null,n.a.createElement(m.a,{onClick:this.onClick,disabled:this.state.submitting||!this.state.canSubmit,variant:"contained",color:"primary",fullWidth:!0,type:"submit"},this.props.t("create")))),n.a.createElement(E,null,n.a.createElement(c.Link,{to:"/sign-in"},this.props.t("alreadyHaveAccount"))),this.state.error&&n.a.createElement(_,null,n.a.createElement("b",null,this.props.t("error")," ",this.state.error)))},a}(n.a.Component),S=Object(b.b)("user")(Object(w.a)(j)),x=r("4KiG"),k=r("NLwr"),A=r.n(k);function I(t,e,r,a,n,o,i){try{var s=t[o](i),l=s.value}catch(p){return void r(p)}s.done?e(l):Promise.resolve(l).then(a,n)}function N(t){return function(){var e=this,r=arguments;return new Promise((function(a,n){var o=t.apply(e,r);function i(t){I(o,a,n,i,s,"next",t)}function s(t){I(o,a,n,i,s,"throw",t)}i(void 0)}))}}var P=v.b.div.withConfig({displayName:"ConfirmEmail__InfoBox",componentId:"sc-1t4zqh3-0"})(["margin-bottom:2rem;"]),F=v.b.div.withConfig({displayName:"ConfirmEmail__FormContainer",componentId:"sc-1t4zqh3-1"})(["height:100%;margin-top:2rem;"]),L=v.b.img.withConfig({displayName:"ConfirmEmail__StyledImage",componentId:"sc-1t4zqh3-2"})(["width:100%;padding:1rem 0;"]),z=function(t){var e,r;function a(){for(var e,r=arguments.length,a=new Array(r),n=0;n<r;n++)a[n]=arguments[n];return(e=t.call.apply(t,[this].concat(a))||this).onClick=function(){var t=N(p.a.mark((function t(e){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.preventDefault();case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.state={email:void 0,password:void 0,submitting:!1,error:!1},e}return r=t,(e=a).prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r,a.prototype.render=function(){return n.a.createElement(F,null,n.a.createElement("h1",null,this.props.t("welcomeToCourse")),n.a.createElement(P,null,n.a.createElement("p",null,this.props.t("emailSent")," "),n.a.createElement("p",null,this.props.t("emailExample")),n.a.createElement(L,{src:A.a,alt:this.props.t("emaiLExampleAria")})),n.a.createElement("p",null,this.props.t("nowContinue")," ",n.a.createElement(c.Link,{to:"/osa-1"},this.props.t("toMaterial")),"."))},a}(n.a.Component),J=Object(b.b)("user")(Object(w.a)(z)),q=r("eczs"),W=r("VUD3");var B=function(t){var e,r;function a(){for(var e,r=arguments.length,a=new Array(r),n=0;n<r;n++)a[n]=arguments[n];return(e=t.call.apply(t,[this].concat(a))||this).state={step:1},e.onStepComplete=function(){e.setState((function(t){return{step:t.step+1}})),"undefined"!=typeof window&&window.scrollTo(0,0)},e}return r=t,(e=a).prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r,a.prototype.render=function(){var t;return t=1===this.state.step?n.a.createElement(S,{onComplete:this.onStepComplete}):2===this.state.step?n.a.createElement(x.a,{courseVariant:"nodl",onComplete:this.onStepComplete}):n.a.createElement(J,{onComplete:this.onStepComplete}),n.a.createElement(s.a,null,n.a.createElement(i.a,{title:"Luo käyttäjätunnus"}),n.a.createElement(W.a,null,t))},a}(n.a.Component);B.contextType=q.b;e.default=Object(q.c)(B)}}]);
//# sourceMappingURL=component---src-pages-sign-up-js-5df8d9c60d09768013ef.js.map